var O=Object.defineProperty,Y=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var A=(e,s,n)=>s in e?O(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,u=(e,s)=>{for(var n in s||(s={}))q.call(s,n)&&A(e,n,s[n]);if(D)for(var n of D(s))z.call(s,n)&&A(e,n,s[n]);return e},p=(e,s)=>Y(e,H(s));import{R as L,r as c,j as S,u as y,L as I,a as b,F as w,f as G,b as K,c as $,d as _,e as J,g as Q,h as V,i as X,B as Z,k as ee,l as N,m as te}from"./vendor.fa4a9e23.js";const se=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};se();const x=L.createContext([]);function F(){const{innerWidth:e,innerHeight:s}=window,n=e<728,i=e>=728&&e<1200,r=e>=1200;return{width:e,height:s,isSm:n,isMd:i,isLg:r}}function ne(){const[e,s]=c.exports.useState(F());return c.exports.useEffect(()=>{function n(){s(F())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}var C="/netflix-ui-clone/assets/logo.0c12d537.svg";const t=S.exports.jsx,o=S.exports.jsxs,E=S.exports.Fragment,P=()=>{const{isSm:e,isMd:s,isLg:n}=ne(),i=y(),r=i.pathname=="/",a=i.pathname=="/browse",d=i.pathname=="/watch",[l]=c.exports.useContext(x),{avatar:h}=l;return o("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center bg-black",children:[t("div",{className:"w-25",children:o(I,{to:`${r?"/":"/browse"}`,children:[e&&t("img",{src:C,className:"w-100 p-3"}),s&&t("img",{src:C,className:"w-50 p-3"}),n&&t("img",{src:C,className:"w-25 p-3"})]})}),(a||d)&&t(I,{to:"/",children:t("div",{className:"d-flex flex-row justify-content-end",children:t("img",{src:h,className:"img-fluid rounded w-50 m-1"})})})]})},ae=()=>{const e=b(),[s,n]=c.exports.useContext(x),{users:i}=s,[r,a]=c.exports.useState(!1),d=l=>{n({type:"setProfile",payload:{id:l}}),e("/browse")};return o("div",{className:"h-100 d-flex flex-column justify-content-between align-items-center",children:[t(P,{}),o("div",{className:"h-100 d-flex flex-column justify-content-center align-items-center",children:[o("div",{className:"container",children:[r&&t("div",{className:"row justify-content-center mb-4",children:t("h1",{className:"text-center white",children:"Manage Profiles:"})}),o("div",{className:"row justify-content-center",children:[i.map(l=>o("div",{className:"col-4 col-md-4 d-flex flex-column align-items-center cursor-pointer",onClick:()=>r?e("/create-profile",{state:{userState:{id:l.id,name:l.name,avatar:l.avatar}}}):d(l.id),children:[o("div",{className:"d-flex justify-content-center align-items-center position-relative",children:[r&&t("div",{className:"d-flex justify-content-center align-items-center w-100 h-100 overlay position-absolute",children:t(w,{icon:G,className:"white"})}),t("img",{className:"img-fluid rounded user-avatar",src:l.avatar})]}),t("h3",{className:"mt-2 white",children:l.name})]},l.id)),o("div",{className:"col-4 col-md-4 d-flex flex-column align-items-center",children:[t("button",{className:"transparent-button",onClick:()=>e("/create-profile"),children:t(w,{icon:K,className:"img-fluid user-avatar"})}),t("h3",{className:"mt-1 text-center white",children:"Add Profile"})]})]})]}),!r&&o(E,{children:[t("h1",{className:"mt-4 white",children:"Who's watching?"}),t("button",{className:"black-button d-flex justify-content-center align-items-center",disabled:i.length===0,onClick:()=>a(!0),children:t("h3",{className:"m-0 p-1",children:"Manage Profiles"})})]}),r&&t(E,{children:t("button",{className:"white-button mt-3 d-flex justify-content-center align-items-center red-hover",onClick:()=>a(!1),children:t("h3",{className:"m-0 p-1",children:"Done"})})})]})]})},ie=async()=>(await $.get("https://picsum.photos/200")).request.responseURL,re=()=>{const e=b(),s=y(),[,n]=c.exports.useContext(x),[i,r]=c.exports.useState(!1),[a,d]=c.exports.useState(!1),[l,h]=c.exports.useState(""),[m,M]=c.exports.useState(""),[g,v]=c.exports.useState("");c.exports.useEffect(()=>{const{userState:f}=(s==null?void 0:s.state)||{};if(f){r(!0),h(f.id),M(f.name),v(f.avatar);return}j()},[]);const j=async()=>{d(!0);const f=await ie();v(f),d(!1)};return o("div",{className:"h-100 d-flex flex-column justify-content-between align-items-center",children:[t(P,{}),o("div",{className:"h-100 d-flex flex-column justify-content-center",children:[t("h1",{className:"white",children:i?"Edit Profile":"Add Profile"}),o("h4",{className:"grey",children:[i?"Edit":"Add"," a profile for another person watching Netflix."]}),o("div",{className:"d-flex flex-row justify-content-between align-items-center",children:[a?t("div",{className:"d-flex flex-row justify-content-center align-items-center user-avatar",children:t("p",{className:"h1 white",children:"..."})}):t("img",{src:g,className:"img-fuild rounded user-avatar"}),t("input",{type:"text",className:"w-100 m-2 input-grey",placeholder:"Name",value:m,onChange:f=>M(f.target.value)})]}),t("div",{children:t("button",{onClick:j,className:"mt-2 transparent-button",children:"Get new avatar"})}),o("div",{className:"mt-3 d-flex flex-row justify-content-between align-items-center",children:[o("div",{className:"d-flex flex-row",children:[t("button",{className:"m-1 white-button d-flex justify-content-center align-items-center",disabled:!m,onClick:i?()=>{n({type:"editProfile",payload:{id:l,avatar:g,name:m}}),e("/")}:()=>{n({type:"addProfile",payload:{avatar:g,name:m}}),e("/")},children:t("h4",{className:"m-0 p-1",children:"Continue"})}),t("button",{className:"m-1 black-button d-flex justify-content-center align-items-center",onClick:()=>e("/"),children:t("h4",{className:"m-0 p-1",children:"Cancel"})})]}),i&&t("button",{className:"m-1 black-button d-flex justify-content-center align-items-center",onClick:()=>{n({type:"deleteProfile",payload:{id:l}}),e("/")},children:t("h4",{className:"m-0 p-1",children:"Delete Profile"})})]})]})]})},k=$.create({baseURL:"https://www.omdbapi.com/?apiKey=5c08063e&"}),oe=async e=>{const{data:s}=await k.get(`&s=${e}`);return s.Search[Math.floor(Math.random()*s.Search.length)]},B=({movie:e})=>{const s=y(),n=s.pathname=="/browse",i=s.pathname=="/watch",r=b(),[a,d]=c.exports.useState(e||null);return c.exports.useEffect(()=>{e||(async()=>{const h=_(),m=await oe(h);d(m)})()},[]),t("div",{className:`container-fluid mt-4 ${n?"cursor-pointer":""}`,onClick:i?void 0:()=>{r("/watch",{state:a})},children:o("div",{className:"row billboard-container",children:[t("img",{className:"col-12 billboard-background-blur",src:a==null?void 0:a.Poster}),t("img",{className:"billboard",src:a==null?void 0:a.Poster}),o("div",{className:"align-self-center m-3 billboard-info",children:[t("h1",{className:"white",children:a==null?void 0:a.Title}),t("h4",{className:"white",children:a==null?void 0:a.Year})]})]})})},ce=async e=>{const{data:s}=await k.get(`&s=${e}`);return s.Search},le=({movie:e})=>{const s=b();return t("div",{className:"col-3 col-sm-3 col-md-2 col-lg-2 col-xl-1 p-1 carousel-movie position-relative cursor-pointer",onClick:()=>{s("/watch",{state:e})},children:t("img",{src:e.Poster,className:"d-block w-100 img-fluid"})})},U=({genre:e,favorites:s})=>{const[n,i]=c.exports.useState([]);return c.exports.useEffect(()=>{e&&(async()=>{const r=await ce(e);i(r)})(),s&&i(s)},[]),t("div",{className:"container-fluid mt-4 carousel-parent",children:o("div",{className:"row",children:[t("div",{className:"col-12",children:t("h3",{className:"mt-4 white carousel-title",children:e?e.toUpperCase():"My List"})}),t("div",{className:"col-12",children:t("div",{className:"carousel",children:n.map(r=>t(le,{movie:r},r.imdbID))})})]})})},R=L.createContext({}),de=()=>{const e=["Action","Crime","Comedy","Horror","Documentary","Standup","Music","Romantic","Christmas","Drama","Animation"],[s]=c.exports.useContext(x),[n]=c.exports.useContext(R);return o("div",{className:"h-100 d-flex flex-column justify-content-between align-items-center",children:[t(P,{}),o("div",{className:"w-100 h-100 d-flex flex-column justify-content-start align-items-center",children:[t(B,{}),n.list.length>0&&t(U,{favorites:n.list.filter(i=>i.profileId==s.id)}),e.map(i=>t(U,{genre:i},i))]})]})},me=async e=>{const{data:s}=await k.get(`&i=${e}&plot=full`);return s},ue=e=>new Date(e).getFullYear(),fe=e=>{let s=e;if(!e)return"0m";typeof e=="string"&&(s=parseInt(e.toString().replaceAll("String","")));const n=Math.floor(s/60),i=s%60;return n?`${n}h ${i}m`:`${i}m`},he=()=>{const s=y().state,[n]=c.exports.useContext(x),[i,r]=c.exports.useContext(R),[a,d]=c.exports.useState(),[l,h]=c.exports.useState(!1),m=i.list.find(v=>v.imdbID==s.imdbID);return c.exports.useEffect(()=>{(async()=>{const v=await me(s.imdbID);d(v)})()},[]),o("div",{className:"d-flex flex-column justify-content-between align-items-center",children:[t(P,{}),t(B,{movie:s}),t("div",{className:"container-fluid",children:o("div",{className:"row",children:[o("div",{className:"col-12 d-flex flex-row align-items-center",children:[o("button",{className:"d-flex flex-row align-items-center rounded white-button cursor-pointer",children:[t(w,{icon:J,className:"h4 m-0 p-2"}),t("h2",{className:"m-0 p-2",children:"Play"})]}),t("button",{className:`rounded-dark-button m-4 ${m?"watch-like-button-clicked":""}`,onClick:m?()=>{r({type:"removeFromList",payload:s})}:()=>{r({type:"addToList",payload:p(u({},s),{profileId:n.id})})},children:m?t(w,{icon:Q,className:"h4 m-0 p-2"}):t(w,{icon:V,className:"h4 m-0 p-2"})}),t("button",{className:`rounded-dark-button ${l?"watch-like-button-clicked":""}`,onClick:()=>h(!l),children:t(w,{icon:X,className:"h4 m-0 p-2"})})]}),t("div",{className:"col-12 d-flex flex-row align-items-center",children:o("h3",{className:"white",children:[ue(a==null?void 0:a.Released)," ",fe(a==null?void 0:a.Runtime)]})}),t("div",{className:"col-12 d-flex flex-row align-items-center",children:t("h5",{className:"white",children:a==null?void 0:a.Plot})})]})})]})},pe=()=>t(Z,{basename:"/netflix-ui-clone/",children:o(ee,{children:[t(N,{path:"/",element:t(ae,{})}),t(N,{path:"/create-profile",element:t(re,{})}),t(N,{path:"/browse",element:t(de,{})}),t(N,{path:"/watch",element:t(he,{})})]})});const T={id:"",avatar:null,name:null,users:[{id:crypto.randomUUID(),name:"Default",avatar:"https://picsum.photos/200"}]};function ve(e=T,s){switch(s.type){case"addProfile":return e=p(u({},e),{users:e.users.concat(p(u({},s.payload),{id:crypto.randomUUID()}))}),e;case"editProfile":{const n=s.payload.id,r=e.users.filter(d=>d.id!=n).concat(p(u({},s.payload),{id:n}));return e=p(u({},e),{users:r}),e}case"deleteProfile":{const n=s.payload.id,i=e.users.filter(a=>a.id!=n);return e=p(u({},e),{users:i}),e}case"setProfile":{const n=s.payload.id,i=e.users.filter(a=>a.id==n)[0];return e=u(u({},e),i),e}default:throw new Error("In order to change the state send an action type and a payload")}}const W={list:[]};function we(e=W,s){switch(s.type){case"addToList":return e.list.find(i=>i.imdbID==s.payload.imdbID)||(e={list:e.list.concat(u({},s.payload))}),e;case"removeFromList":return e={list:e.list.filter(i=>i.imdbID!=s.payload.imdbID)},e}}const xe=()=>{const[e,s]=c.exports.useReducer(ve,T),[n,i]=c.exports.useReducer(we,W);return t(x.Provider,{value:[e,s],children:t(R.Provider,{value:[n,i],children:t("div",{className:"App",children:t(pe,{})})})})};te.render(t(L.StrictMode,{children:t(xe,{})}),document.getElementById("root"));
